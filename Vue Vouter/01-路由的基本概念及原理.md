# 1. 路由的基本概念与原理

## 1.1 路由

路由是一个比较广义和抽象的概念，路由的本质就是对应关系。

在开发中，路由分为

1. 后端路由

   > 概念：根据不同的用户 URL 请求，返回不同的内容
   >
   > 本质：URL 请求地址与服务器之间的对应关系

   > 后端渲染，会频繁的提交表单导致浏览器刷新，存在性能问题。
   >
   > Ajax 前端渲染(解决了提交表单浏览器刷新的问题，但是不支持浏览器的前进后退操作)
   >
   > SPA 单页面应用程序（整个网站只有一个页面，内容的变化通过 Ajax 局部更新实现、同时支持浏览器地址栏的前进和后退操作）
   >
   > SPA 实现原理之一：基于 URL 地址的 hash（hash 的变化会导致浏览器记录的变化、但是 hash 的变化不会触发新的 URL 请求）
   >
   > 在实现 SPA 过程中，最核心的技术就是前端路由

2. 前端路由

   > 概念：根据不同的用户事件，显示不同的页面内容
   >
   > 本质：用户事件与事件处理函数之间的对应关系

   前端路由负责事件监听，触发事件后，通过事件函数渲染不同内容。

3. 实现简易的前端路由

   ![image-20210705083052788](Vue Router.assets/image-20210705083052788.png)

我们的要求是点击菜单的时候改变 URL 的 hash，根据 hash 的变化控制组件的切换。

基本原理：

> 结合动态组件
>
> <component :is='xxx'></component>

```js
// 监听window的onhashchange事件，根据获取到的最新的hash值，切换要显示的组件的名称
winow.onhashchange = function () {
  // 通过location.hash获取到最新的hash值
}
```

## 1.2 Vue Router

Vue Router 是 vue.js 官方的路由管理器。（更符合企业级开发的需要）

> 它和 Vue.js 的核心深度集成，可以非常方便的用于 SPA 应用程序的开发

Vue Router 包含的功能有：

- 支持 HTML5history 模式或 hash 模式
- 支持嵌套路由
- 支持路由参数
- 支持编程式路由
- 支持命名路由

Vue Router 的进阶功能

- 导航守卫
- 路由懒加载
